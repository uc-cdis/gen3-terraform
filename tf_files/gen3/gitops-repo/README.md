# ArgoCD GitOps Repository Skeleton

This repository was generated by a Terraform module to serve as a **GitOps skeleton** for managing Kubernetes applications with [ArgoCD](https://argo-cd.readthedocs.io/). It provides a base structure for defining, deploying, and maintaining your Kubernetes workloads via GitOps.

## Quick Start

### 1. Turn This Directory into a GitHub Repository

Once the Terraform module has output the skeleton files into a directory:

```bash
cd gitops-repo
git init
git remote add origin https://github.com/<your-org>/<your-repo>.git
git add .
git commit -m "Initial commit"
```
Ensure you have the repo created within github and then push your commits into github

```bash
git push origin main
```

### 2. Apply the ArgoCD Application in Your Kubernetes Cluster

Make sure [ArgoCD is installed](https://argo-cd.readthedocs.io/en/stable/getting_started/) and you have `kubectl` access to the cluster.

Apply the `app.yaml` file to create the ArgoCD `Application` resource:

```bash
kubectl apply -f app.yaml
```

This will register your Git repo with ArgoCD and begin syncing the defined workloads.

### 3. How to Update Your Application

All application-specific configuration should live in the `values.yaml` file. To update the app:

1. Edit `values.yaml` in your GitHub repo.
2. Commit and push the changes:

```bash
git add values.yaml
git commit -m "Update application values"
git push
```

ArgoCD will automatically detect the change (if auto-sync is enabled) and apply it to your cluster. Otherwise, you can sync manually via the ArgoCD UI or CLI:

## Clean-Up

To remove the ArgoCD application:

```bash
kubectl delete -f app.yaml
```

## Resources

- [ArgoCD Official Docs](https://argo-cd.readthedocs.io/)
